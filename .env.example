# ============================================================================
# SHOE ECOMMERCE API - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=5000
CLIENT_URL=http://localhost:3000

# Additional client URLs for CORS (comma-separated)
ADMIN_DASHBOARD_URL=http://localhost:3001
STAFF_DASHBOARD_URL=http://localhost:3002

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# MongoDB connection string
MONGODB_URI=mongodb://localhost:27017/shoe-ecommerce

# Test database (used during testing)
MONGODB_TEST_URI=mongodb://localhost:27017/shoe-ecommerce-test

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# JWT secret key (use a strong, random 256-bit key)
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# JWT token expiration
JWT_EXPIRE=7d

# Admin creation secret (required for creating admin accounts)
ADMIN_CREATION_SECRET=your-admin-creation-secret-key

# Password reset token expiration (in minutes)
PASSWORD_RESET_EXPIRE=10

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
# Email provider: gmail, sendgrid, ses, smtp
EMAIL_PROVIDER=gmail

# Gmail configuration (if using Gmail)
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password

# SendGrid configuration (if using SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key

# AWS SES configuration (if using SES)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# SMTP configuration (if using custom SMTP)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password

# Email sender information
EMAIL_FROM=noreply@shoestore.com
EMAIL_FROM_NAME=Shoe Store

# ============================================================================
# CLOUDINARY CONFIGURATION (Image Storage)
# ============================================================================
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ============================================================================
# STRIPE PAYMENT CONFIGURATION
# ============================================================================
# Stripe secret key (use test key for development)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe publishable key (for frontend)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe webhook secret (for webhook verification)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Supported currencies (comma-separated)
SUPPORTED_CURRENCIES=USD,EUR,GBP,CAD

# ============================================================================
# REDIS CONFIGURATION (Caching & Sessions)
# ============================================================================
# Redis connection URL
REDIS_URL=redis://localhost:6379

# Redis password (if required)
REDIS_PASSWORD=your-redis-password

# ============================================================================
# GOOGLE OAUTH CONFIGURATION
# ============================================================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================================================
# PUSH NOTIFICATIONS (Web Push)
# ============================================================================
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_EMAIL=your-email@example.com

# ============================================================================
# SMS CONFIGURATION (Optional)
# ============================================================================
# Twilio configuration (if using SMS notifications)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=your-twilio-phone-number

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
# Log level: error, warn, info, http, debug
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
SENTRY_DSN=your-sentry-dsn

# ============================================================================
# RATE LIMITING
# ============================================================================
# General API rate limit (requests per 15 minutes)
RATE_LIMIT_GENERAL=100

# Authentication rate limit (requests per 15 minutes)
RATE_LIMIT_AUTH=5

# Upload rate limit (requests per minute)
RATE_LIMIT_UPLOAD=10

# ============================================================================
# BUSINESS CONFIGURATION
# ============================================================================
# Default tax rate (as decimal, e.g., 0.08 for 8%)
DEFAULT_TAX_RATE=0.08

# Default shipping costs
SHIPPING_COST_STANDARD=5.99
SHIPPING_COST_EXPRESS=12.99
SHIPPING_COST_OVERNIGHT=24.99

# Free shipping threshold
FREE_SHIPPING_THRESHOLD=75.00

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
ENABLE_FLASH_SALES=true
ENABLE_REVIEWS=true
ENABLE_WISHLISTS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_ANALYTICS=true

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
# Enable debug mode
DEBUG_MODE=false

# Enable API documentation (Swagger)
ENABLE_API_DOCS=true

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================
# Analytics service (Google Analytics, etc.)
GOOGLE_ANALYTICS_ID=your-ga-tracking-id

# Social media integration
FACEBOOK_APP_ID=your-facebook-app-id
TWITTER_API_KEY=your-twitter-api-key

# ============================================================================
# BACKUP & MAINTENANCE
# ============================================================================
# Database backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We are currently performing maintenance. Please try again later.

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Cache TTL values (in seconds)
CACHE_TTL_PRODUCTS=3600
CACHE_TTL_CATEGORIES=7200
CACHE_TTL_USER_SESSIONS=86400

# Database connection pool size
DB_POOL_SIZE=10

# Request timeout (in milliseconds)
REQUEST_TIMEOUT=30000

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002

# Session secret
SESSION_SECRET=your-session-secret-key

# Cookie settings
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=lax

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================
# Test environment settings
TEST_TIMEOUT=10000
TEST_COVERAGE_THRESHOLD=80

# Mock external services in tests
MOCK_STRIPE=true
MOCK_CLOUDINARY=true
MOCK_EMAIL=true

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================
# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health

# Graceful shutdown timeout (in milliseconds)
SHUTDOWN_TIMEOUT=10000

# Process management
PM2_INSTANCES=max
PM2_MAX_MEMORY_RESTART=1000M
